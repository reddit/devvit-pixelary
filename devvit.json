{
  "$schema": "https://developers.reddit.com/schema/config-file.v1.json",
  "name": "pixelary-game",
  "post": {
    "dir": "dist/client",
    "entrypoints": {
      "default": {
        "entry": "drawing.html",
        "height": "tall",
        "inline": true
      },
      "pinned": {
        "entry": "pinned.html",
        "height": "tall",
        "inline": true
      },
      "collection": {
        "entry": "collection.html",
        "height": "tall",
        "inline": true
      },
      "tournament": {
        "entry": "tournament.html",
        "height": "tall",
        "inline": true
      },
      "editor": {
        "entry": "editor.html",
        "height": "tall",
        "inline": false
      },
      "analytics": {
        "entry": "analytics.html",
        "height": "tall",
        "inline": false
      }
    }
  },
  "server": {
    "dir": "dist/server",
    "entry": "index.cjs"
  },
  "permissions": {
    "realtime": true,
    "reddit": {
      "enable": true,
      "asUser": ["SUBMIT_POST", "SUBMIT_COMMENT"]
    }
  },
  "media": {},
  "forms": {
    "createPostForm": "/internal/forms/posts/type/select",
    "pinnedPostForm": "/internal/forms/posts/pinned/submit",
    "editWordsForm": "/internal/forms/words/edit",
    "editBannedWordsForm": "/internal/forms/banned-words/update",
    "tournamentHopperForm": "/internal/forms/tournaments/prompts/edit",
    "collectionPostForm": "/internal/forms/posts/collection/submit",
    "tournamentPostForm": "/internal/forms/posts/tournament/submit",
    "setUserPointsForm": "/internal/forms/users/points/set",
    "getUserPointsForm": "/internal/forms/users/points/get",
    "editLegacyUsersForm": "/internal/forms/legacy-users/update",
    "editSlateBanditForm": "/internal/forms/slate-bandit/update"
  },
  "menu": {
    "items": [
      {
        "label": "[Pixelary] Create Post",
        "description": "Start the new post creation flow",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/posts/create"
      },
      {
        "label": "[Pixelary] Edit Words",
        "description": "View and edit the word list",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/words/edit"
      },
      {
        "label": "[Pixelary] Edit Banned Words",
        "description": "View and edit the banned words list",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/banned-words/edit"
      },
      {
        "label": "[Pixelary] Reveal Word",
        "description": "Reveals the word for a drawing post for you only",
        "location": "post",
        "forUserType": "moderator",
        "postFilter": "currentApp",
        "endpoint": "/internal/menu-actions/words/reveal"
      },
      {
        "label": "[Pixelary] Update Pinned Comment",
        "description": "Manually update the pinned comment content",
        "location": "post",
        "forUserType": "moderator",
        "postFilter": "currentApp",
        "endpoint": "/internal/menu-actions/posts/pinned-comment/update"
      },
      {
        "label": "[Pixelary] Run Tournament Payout",
        "description": "Run a one-off payout for this tournament",
        "location": "post",
        "forUserType": "moderator",
        "postFilter": "currentApp",
        "endpoint": "/internal/menu-actions/tournaments/payout-now"
      },
      {
        "label": "[Pixelary] Update User Flair",
        "description": "Manually update your user flair",
        "location": "subreddit",
        "forUserType": "user",
        "endpoint": "/internal/menu-actions/users/flair/update"
      },
      {
        "label": "[Pixelary] Log Telemetry",
        "description": "Print today's telemetry data to server logs",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/telemetry/log"
      },
      {
        "label": "[Pixelary] Clear Telemetry",
        "description": "Clear today's telemetry data",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/telemetry/clear"
      },
      {
        "label": "[Pixelary] Slate Bandit",
        "description": "Configure word selection parameters",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/slate-bandit/edit"
      },
      {
        "label": "[Pixelary] Set User Points",
        "description": "Set the exact number of points for a user",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/users/points/set"
      },
      {
        "label": "[Pixelary] Get User Points",
        "description": "View how many points a user has",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/users/points/get"
      },
      {
        "label": "[Pixelary] Tournament Hopper",
        "description": "View and edit the tournament prompt hopper",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/tournaments/prompts/edit"
      },
      {
        "label": "[Pixelary] Legacy Users",
        "description": "Manage the legacy users set",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu-actions/legacy-users/manage"
      }
    ]
  },
  "triggers": {
    "onAppInstall": "/internal/triggers/app/install",
    "onAppUpgrade": "/internal/triggers/app/upgrade",
    "onCommentCreate": "/internal/triggers/comments/create",
    "onCommentDelete": "/internal/triggers/comments/delete",
    "onCommentUpdate": "/internal/triggers/comments/update"
  },
  "scheduler": {
    "tasks": {
      "UPDATE_DRAWING_PINNED_COMMENT": {
        "endpoint": "/internal/scheduler/drawings/pinned-comment/update"
      },
      "USER_LEVEL_UP": {
        "endpoint": "/internal/scheduler/users/level-up"
      },
      "SET_USER_FLAIR": {
        "endpoint": "/internal/scheduler/users/flair/set"
      },
      "USER_LEVEL_CLAIMED": {
        "endpoint": "/internal/scheduler/users/level-claimed"
      },
      "UPDATE_WORD_SCORES": {
        "endpoint": "/internal/scheduler/words/scores/update",
        "cron": "0 * * * *"
      },
      "RUN_TOURNAMENT_SCHEDULER": {
        "endpoint": "/internal/scheduler/tournaments/run",
        "cron": "0 0 * * *"
      },
      "TOURNAMENT_PAYOUT_SNAPSHOT": {
        "endpoint": "/internal/scheduler/tournaments/payout"
      }
    }
  },
  "dev": {
    "subreddit": "pixelarybeta"
  }
}
